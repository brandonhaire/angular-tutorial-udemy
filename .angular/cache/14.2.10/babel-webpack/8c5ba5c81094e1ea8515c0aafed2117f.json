{"ast":null,"code":"import { Subject } from \"rxjs\";\nimport { Ingredient } from \"../shared/inredient.model\";\nexport class ShoppingListService {\n  constructor() {\n    this.ingredientsChanged = new Subject();\n    this.startedEditing = new Subject();\n    this.ingredients = [new Ingredient('Apples', 5), new Ingredient('Tomatoes', 10)];\n  }\n\n  getIngredients() {\n    return this.ingredients.slice();\n  }\n\n  addIngredient(ingredient) {\n    this.ingredients.push(ingredient);\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n  addIngredients(ingredients) {\n    // for (let ingredient of ingredients) {\n    //   this.addIngredient(ingredient);\n    // }\n    this.ingredients.push(...ingredients); //equivalent to the code above\n\n    this.ingredientsChanged.next(this.ingredients.slice()); //first attempt\n    // for (let i = 0; i < ingredients.length; i++) {\n    //   console.log(\"first for loop\");\n    //   if (this.ingredients.includes(ingredients[i])) {\n    //     // add amount of ingredient\n    //     let index = 0;\n    //     let amount = 0;\n    //     for (let j = 0; j < this.ingredients.length; j++){\n    //       console.log(\"second for loop\");\n    //       if (this.ingredients[j].name.toLowerCase === ingredients[i].name.toLowerCase) {\n    //         index = j;\n    //         amount = ingredients[i].amount;\n    //       }\n    //     }\n    //     this.ingredients[index].amount += amount;\n    //   } else {\n    //     // add new ingredient (push)\n    //     this.ingredients.push(ingredients[i]);\n    //   }\n    //second attempt\n    // let duplicates: {name: string, amount: number, index: number}[] = [];\n    // for (let i = 0; i < ingredients.length; i++) {\n    //   if (this.ingredients.includes(ingredients[i])) {\n    //     const duplicate = ingredients[i].name;\n    //     for (let j = 0; j < this.ingredients.length; j++){\n    //       if (this.ingredients[j].name.toLowerCase === duplicate.toLowerCase) {\n    //         duplicates.push({name: ingredients[i].name,amount: ingredients[i].amount,index: j});\n    //     }\n    //   }\n    //   } else {\n    //     this.ingredients.push(ingredients[i]);\n    //   }\n    // }\n    // for (let i = 0; i< duplicates.length; i++) {\n    //   // const name = duplicates[i].name;\n    //   // const amount = duplicates[i].amount;\n    //   this.ingredients[duplicates[i].index].amount += duplicates[i].amount;\n    // }\n    // console.log(duplicates);\n  }\n\n  getIngredient(index) {\n    return this.ingredients[index];\n  }\n\n  updateIngredient(index, newIngredient) {\n    this.ingredients[index] = newIngredient;\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n  deleteIngredient(index) {\n    this.ingredients.splice(index, 1);\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}